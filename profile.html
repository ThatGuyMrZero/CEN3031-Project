
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>


<style>
    #profileMenu {
        display: flex;
        flex-flow: column nowrap;
    }

    #colorOptions {
        display: flex;
        flex-flow: row nowrap;
        justify-content: center;
    }

    #colorSelection {
        display: flex;
        flex-flow: column nowrap;
    }

    #colorMenu {
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
    }

    #colorMenu button {
        margin: 10px 5px;
    }

    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #808080;
        min-width: 160px;
        box-shadow: 8px 16px #00000033;
        z-index: 1;
    }

    /* Links inside the dropdown */
    .dropdown-content p {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    /* Change color of dropdown links on hover */
    .dropdown-content button:hover {
        background-color: #a8a8a8;
        cursor: pointer;
    }

    /* Show the dropdown menu on hover */
    .dropdown:hover .dropdown-content {
        display: block;
    }

</style>


<body>

<div class="section">

    <div id="profileMenu" class="section">


        <div id="colorOptions">

            <div class="dropdown">
                <button class="button">Background Type</button>
                <div class="dropdown-content">
                    <button onclick="() => {sessionStorage.setItem('background-type', 'solid');}">Solid</button>
                    <button onclick="() => {sessionStorage.setItem('background-type', 'linear-gradient');}">Linear Gradient</button>
                    <button onclick="() => {sessionStorage.setItem('background-type', 'radial-gradient');}">Radial Gradient</button>
                    <button onclick="() => {sessionStorage.setItem('background-type', 'repeating-linear-gradient');}">Repeating Linear Gradient</button>
                </div>
            </div>

            <div id="colorSelection" class="menu">

                <h3>Include:</h3>
                <div class="colorItem">
                    <label for="color-primary-checkbox">Primary</label>
                    <input type="checkbox" id="color-primary-checkbox" name="color-primary-checkbox" value="true" checked>
                    <label for="color-primary">Primary color: </label><input type="color" value="#808890" id="color-primary">
                </div>
                <br>
                <div class="colorItem">
                    <label for="color-secondary-checkbox">Secondary:</label>
                    <input type="checkbox" id="color-secondary-checkbox" name="color-secondary-checkbox" value="true" checked>
                    <label for="color-secondary">Secondary color: </label><input type="color" value="#908880" id="color-secondary">
                </div>
                <br>
                <div class="colorItem">
                    <label for="color-tertiary-checkbox">Tertiary:</label>
                    <input type="checkbox" id="color-tertiary-checkbox" name="color-tertiary-checkbox" value="true" checked>
                    <label for="color-tertiary">Tertiary color: </label><input type="color" value="#38a050" id="color-tertiary">
                </div>

            </div>

            <div class="">
                <label for="angle">Angle:</label>
                <input type="range" id="angle" name="angle" min="0" max="360" value="180">
                <output id="angle-output"></output>
            </div>

        </div>

        <br>

            <div id="colorMenu" >
                <button onclick="setColors()">Set Colors</button>
                <button onclick="colorDefault()">Default</button>
            </div>


    </div>

    <button onclick="window.location.href='/'">Back to Menu</button>

</div>

</body>


<script src="script.js">

    const rangeInput = document.getElementById("angle");
    const rangeOutput = document.getElementById("angle-output");

    rangeOutput.textContent = rangeInput.value;
    
    /* TODO: make event listener work. */
    rangeInput.addEventListener("input", (event) => {
        rangeOutput.textContent = rangeInput.value;
    });


    function setColors() {
        const primary_bool = document.getElementById('color-primary-checkbox').checked
        let primary = document.getElementById('color-primary').value;
        sessionStorage.setItem('color-primary', primary);

        const secondary_bool = document.getElementById('color-secondary-checkbox').checked
        let secondary = document.getElementById('color-secondary').value;
        sessionStorage.setItem('color-secondary', secondary);

        const tertiary_bool = document.getElementById('color-tertiary-checkbox').checked;
        let tertiary = document.getElementById('color-tertiary').value;
        sessionStorage.setItem('color-tertiary', tertiary);

        let type = sessionStorage.getItem('background-type');
        if (undefined === type) {
            type = 'linear-gradient';
        }

        /* TODO: make background selector work again. */
        document.body.style.backgroundImage = type + "(" + primary + "," + secondary + "," + tertiary + ")";
    }

    function colorDefault() {
        document.body.style.backgroundImage = "none";
        sessionStorage.setItem('default', 'true');
    }
</script>


</html>